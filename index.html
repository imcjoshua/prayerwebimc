<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Web 기도노트</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
</head>
<body>
    <div id="app">
        <nav class="top-nav">
            <div class="nav-brand" id="go-home">PRAYER WEB</div>
            <div class="nav-actions">
                <div id="auth-section" class="auth-section">
                    <button id="btn-login" class="nav-btn primary">GOOGLE LOGIN</button>
                    <div id="user-profile" class="user-profile hidden">
                        <img id="user-photo" src="" alt="profile" class="profile-img">
                        <button id="btn-logout" class="nav-btn">LOGOUT</button>
                    </div>
                </div>
            </div>
        </nav>

        <main id="main-content">
            <!-- 콘텐츠가 동적으로 로드됩니다 -->
        </main>

        <!-- 글로벌 모달 (입력/수정/응답 통합) -->
        <div id="modal-overlay" class="modal-overlay hidden">
            <div class="modal-window">
                <div class="modal-header">
                    <span class="modal-id" id="modal-title">새 기도 등록</span>
                    <button id="close-modal" class="close-x">닫기</button>
                </div>
                <div id="modal-body" class="modal-body">
                    <!-- 폼 내용 주입 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 홈 뷰 템플릿 -->
    <template id="home-view">
        <div class="console-home">
            <header class="console-header">
                <h2>우리의 기도가 멈추지 않도록 with PRAYER WEB <h2>
                <p>구하라 그리하면 너희에게 주실 것이요 찾으라 그리하면 찾아낼 것이요 <br>문을 두드리라 그리하면 너희에게 열릴 것이니 (마7:7)</p>
            </header>

            <div class="mode-selector">
                <button class="mode-btn urgent" id="btn-urgent">
                    <span class="code-tag">Focused Prayer</span>
                    <h3>지금 간절한 기도제목</h3>
                    <p>기도시간을 알람등록하고, 기도제목을 공유할 수 있습니다. </p>
                </button>
                <button class="mode-btn annual" id="btn-annual">
                    <span class="code-tag">Yearly Prayer</span>
                    <h3>올해의 기도제목</h3>
                    <p>지난 삶의 기도제목과 응답을 기록하고, 앞으로의 기도계획을 세우세요.</p>
                </button>
            </div>

            <!-- 로그인 시 나타날 리스트 영역 -->
            <div id="home-list-section" class="list-container hidden">
                <div class="list-header" style="margin: 3rem 0 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                    <h2 style="font-size: 1.5rem; font-weight: 700;">나의 기도 목록</h2>
                </div>
                <div id="home-prayer-list" class="prayer-list">
                    <!-- 리스트 아이템이 여기에 렌더링됩니다 -->
                </div>
            </div>
        </div>
    </template>

    <!-- Firebase SDKs (v9 Compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="main.js"></script>
</body>
</html>